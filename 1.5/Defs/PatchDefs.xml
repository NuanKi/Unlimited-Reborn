<?xml version="1.0" encoding="utf-8" ?>
<Defs>
<!-- MaxValue -->
    <!-- Apparel -->
    <XmlExtensions.PatchDef Name="MaxValueRemoveApparel" Abstract="True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>label</li>
        </parameters>
        <apply>
            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Apparel:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Max</key>
                        <label>{label} - Remove Max Value</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Removing the maxValue from the StatDef -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Max</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/maxValue</xpath>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!-- General -->
    <XmlExtensions.PatchDef Name="MaxValueRemoveGeneral" Abstract="True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>label</li>
        </parameters>
        <apply>
            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='General:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Max</key>
                        <label>{label} - Remove Max Value</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Removing the maxValue from the StatDef -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Max</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/maxValue</xpath>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!-- Social -->
    <XmlExtensions.PatchDef Name="MaxValueRemoveSocial" Abstract="True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>label</li>
        </parameters>
        <apply>
            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Social:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Max</key>
                        <label>{label} - Remove Max Value</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Removing the maxValue from the StatDef -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Max</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/maxValue</xpath>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!-- Work General -->
    <XmlExtensions.PatchDef Name="MaxValueRemoveWorkGeneral" Abstract="True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>label</li>
        </parameters>
        <apply>
            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Work General:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Max</key>
                        <label>{label} - Remove Max Value</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Removing the maxValue from the StatDef -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Max</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/maxValue</xpath>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!-- Work Recipes -->
    <XmlExtensions.PatchDef Name="MaxValueRemoveWorkRecipes" Abstract="True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>label</li>
        </parameters>
        <apply>
            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Work Recipes:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Max</key>
                        <label>{label} - Remove Max Value</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>


            <!-- Removing the maxValue from the StatDef -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Max</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/maxValue</xpath>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

<!-- CapacityMaxRemove -->
    <!-- Combat -->
    <XmlExtensions.PatchDef Name="CapacityMaxRemoveCombat" Abstract = "True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>capType</li>
            <li>label</li>
        </parameters>
        <apply>

            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Combat:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Caps</key>
                        <label>{label} - Remove Limit</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Removing the max value from the capacityFactors -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Caps</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.ForEach">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/{capType}/li[max]</xpath>
                        <storeIn>path</storeIn>
                        <prefixLength>4</prefixLength>
                        <apply>
                            <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                                <xpath>{path}/max</xpath>
                            </Operation>
                        </apply>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!-- General -->
    <XmlExtensions.PatchDef Name="CapacityMaxRemoveGeneral" Abstract = "True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>capType</li>
            <li>label</li>
        </parameters>
        <apply>

            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='General:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Caps</key>
                        <label>{label} - Remove Limit</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Removing the max value from the capacityFactors -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Caps</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.ForEach">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/{capType}/li[max]</xpath>
                        <storeIn>path</storeIn>
                        <prefixLength>4</prefixLength>
                        <apply>
                            <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                                <xpath>{path}/max</xpath>
                            </Operation>
                        </apply>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!-- Social -->
    <XmlExtensions.PatchDef Name="CapacityMaxRemoveSocial" Abstract = "True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>capType</li>
            <li>label</li>
        </parameters>
        <apply>

            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Social:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Caps</key>
                        <label>{label} - Remove Limit</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Removing the max value from the capacityFactors -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Caps</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.ForEach">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/{capType}/li[max]</xpath>
                        <storeIn>path</storeIn>
                        <prefixLength>4</prefixLength>
                        <apply>
                            <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                                <xpath>{path}/max</xpath>
                            </Operation>
                        </apply>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!-- Work General -->
    <XmlExtensions.PatchDef Name="CapacityMaxRemoveWorkGeneral" Abstract = "True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>capType</li>
            <li>label</li>
        </parameters>
        <apply>

            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Work General:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Caps</key>
                        <label>{label} - Remove Limit</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Removing the max value from the capacityFactors -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Caps</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.ForEach">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/{capType}/li[max]</xpath>
                        <storeIn>path</storeIn>
                        <prefixLength>4</prefixLength>
                        <apply>
                            <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                                <xpath>{path}/max</xpath>
                            </Operation>
                        </apply>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!-- Work Medical -->
    <XmlExtensions.PatchDef Name="CapacityMaxRemoveWorkMedical" Abstract = "True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>capType</li>
            <li>label</li>
        </parameters>
        <apply>

            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Work Medical:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Caps</key>
                        <label>{label} - Remove Limit</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Removing the max value from the capacityFactors -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Caps</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.ForEach">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/{capType}/li[max]</xpath>
                        <storeIn>path</storeIn>
                        <prefixLength>4</prefixLength>
                        <apply>
                            <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                                <xpath>{path}/max</xpath>
                            </Operation>
                        </apply>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!-- Work Medical -->
    <XmlExtensions.PatchDef Name="CapacityMaxRemoveWorkRecipes" Abstract = "True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>capType</li>
            <li>label</li>
        </parameters>
        <apply>

            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Work Recipes:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Caps</key>
                        <label>{label} - Remove Limit</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Removing the max value from the capacityFactors -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Caps</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.ForEach">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/{capType}/li[max]</xpath>
                        <storeIn>path</storeIn>
                        <prefixLength>4</prefixLength>
                        <apply>
                            <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                                <xpath>{path}/max</xpath>
                            </Operation>
                        </apply>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!-- Ideology -->
    <XmlExtensions.PatchDef Name="CapacityMaxRemoveIdeology" Abstract = "True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>capType</li>
            <li>label</li>
        </parameters>
        <apply>

            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Ideology:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_Caps</key>
                        <label>{label} - Remove Limit</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Removing the max value from the capacityFactors -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_Caps</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.ForEach">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/{capType}/li[max]</xpath>
                        <storeIn>path</storeIn>
                        <prefixLength>4</prefixLength>
                        <apply>
                            <Operation Class="XmlExtensions.PatchOperationSafeRemove">
                                <xpath>{path}/max</xpath>
                            </Operation>
                        </apply>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

<!--  Advanced  -->
    <!--  Unlimited postProcessCurve  -->
    <XmlExtensions.PatchDef Name="UnlimitedPostProcessCurve" Abstract="True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>label</li>
        </parameters>
        <apply>
            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Post Process Curve:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_PostProcessCurve</key>
                        <label>{label} - Make Unlimited</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Adding the Unlimited postProcessCurve to the StatDef -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_PostProcessCurve</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.PatchOperationAdd">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/postProcessCurve/points</xpath>
                        <value>
                            <li>(100000, 100000)</li>
                        </value>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!--  Change skillNeedFactors type  -->
    <XmlExtensions.PatchDef Name="ChangeSkillNeedFactors" Abstract="True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>label</li>
            <li>skill</li>
            <li>baseValue</li>
            <li>bonusPerLevel</li>
        </parameters>
        <apply>
            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Skill Need Factors Type:']/following-sibling::li[1]</xpath>
                <order>Prepend</order>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_SkillNeedFactors</key>
                        <label>{label} - Change Calculation Type</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Changing the type of the skillNeedFactors -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_SkillNeedFactors</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.PatchOperationReplace">
                        <xpath>Defs/StatDef[{type} = "{defName}"]/skillNeedFactors</xpath>
                        <value>
                            <skillNeedFactors>
                                <li Class="SkillNeed_BaseBonus">
                                    <skill>{skill}</skill>
                                    <baseValue>{baseValue}</baseValue>
                                    <bonusPerLevel>{bonusPerLevel}</bonusPerLevel>
                                </li>
                            </skillNeedFactors>
                        </value>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>

    <!--  Faster Pruning Speed  -->
    <XmlExtensions.PatchDef Name="FasterPruning" Abstract="True">
        <parameters>
            <li>defaultState</li>
            <li>defName</li>
            <li>type</li>
            <li>label</li>
        </parameters>
        <apply>
            <!-- Adding a checkbox to the settings menu -->
            <Operation Class="PatchOperationInsert">
                <xpath>Defs/XmlExtensions.SettingsMenuDef[modId="NuanKi.UnlimitedReborn"]/settings/li[text='Extra:']/following-sibling::li[1]</xpath>
                <value>
                    <li Class="XmlExtensions.Setting.Checkbox">
                        <key>{defName}_DPruning</key>
                        <label>{label} - Double Pruning Speed</label>
                        <defaultValue>{defaultState}</defaultValue>
                    </li>
                </value>
            </Operation>

            <!-- Changing the type of the skillNeedFactors -->
            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>NuanKi.UnlimitedReborn</modId>
                <key>{defName}_DPruning</key>
                <defaultValue>{defaultState}</defaultValue>
                <caseTrue>
                    <Operation Class="XmlExtensions.PatchOperationReplace">
                        <xpath>Defs/ThingDef[{type} = "{defName}"]/comps/li[3]/connectionStrengthGainPerHourPruningBase</xpath>
                        <value>
                            <connectionStrengthGainPerHourPruningBase>0.02</connectionStrengthGainPerHourPruningBase>
                        </value>
                    </Operation>
                </caseTrue>
            </Operation>
        </apply>
    </XmlExtensions.PatchDef>
</Defs>